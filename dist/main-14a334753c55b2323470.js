(()=>{"use strict";var e={4401:(e,a,l)=>{var t=l(7294),n=l(3935),i=l(6796),s=(l(6138),l(7625)),r=l(1436),o=l(4184),d=l.n(o),u=l(2212),m=l(2886),y=l(2509);const c="avatarConfigChanged",p="exportAvatar",h="resetView",v="reactIsLoaded",k="renderThumbnail";var N=l(7047),_=l(6895);function S({candidates:e,predicate:a}){if(!e.length)return null;const l=e.shift();return a(l)?l:S({candidates:e=e.concat(l.children),predicate:a})}function f(e,a){return S({candidates:[e],predicate:e=>e.name===a})}function b({candidates:e,predicate:a,results:l=[]}){if(!e.length)return l;const t=e.shift();return a(t)&&l.push(t),b({candidates:e=e.concat(t.children),predicate:a,results:l})}function g(e,a){return b({candidates:[e],predicate:e=>e.type===a})}function w({object3D:e,depth:a=0,callback:l,result:t}){t.push(l(e,a));const n=e.children;for(let e=0;e<n.length;e++)w({object3D:n[e],depth:a+1,callback:l,result:t});return t}const E=function(){const e="  ";return function(a,l){const t=`${a.type} | ${a.name} | ${JSON.stringify(a.userData)}`;let n="";"SkinnedMesh"===a.type&&(n="\n".concat(e.repeat(l)).concat("First bone id: ").concat(a.skeleton.bones[0].uuid));let i="";return"Bone"===a.type&&(i="\n".concat(e.repeat(l)).concat("Bone id: ").concat(a.uuid)),e.repeat(l).concat(t).concat(n).concat(i)}}();function B(e){return w({object3D:e,callback:E,result:[]}).join("\n")}const x=function(){const e=new N.E;return function(a){return new Promise((function(l,t){e.load(a,(function(e){l(e)}),(function(e){}),(function(e){t(e)}))}))}}(),P=function(){const e=new Map;return function(a){const l=e.get(a);if(l)return l;{const l=x(a).then((e=>e),(l=>(console.error(`Failed to load ${a}`,l),e.delete(a),null)));return e.set(a,l),l}}}();function C(){return null!==new URLSearchParams(location.search).get("thumbnail")}function F(e){return e.gltfExtensions||(e.gltfExtensions={}),e.gltfExtensions.MOZ_hubs_components||(e.gltfExtensions.MOZ_hubs_components={}),e}const R=function(){const e=new y.M;return function(a,{binary:l,animations:t}){e.parse(a,(e=>{if(l){const a=new Blob([e],{type:"application/octet-stream"}),l=document.createElement("a");l.style.display="none",l.href=URL.createObjectURL(a),l.download="custom_avatar.glb",l.click(),l.remove()}else console.log(e)}),{binary:l,animations:t})}}();function M(e,a){const l=[];for(const t of a.animations)-1===e.animations.findIndex((e=>e.name===t.name))&&l.push(t);for(const a of l)e.animations.push(a)}const A={reactIsLoaded:!1,shouldResize:!0,didInit:!1,scene:null,camera:null,renderer:null,controls:null,envMap:null,avatarNodes:{},avatarConfig:{},newAvatarConfig:{},shouldApplyNewAvatarConfig:!1,shouldExportAvatar:!1,shouldResetView:!1,thumbnailConfig:{},shouldRenderThumbnail:!1};function T(e){A.avatarNodes[e]||(A.avatarNodes[e]=new u.ZAu,A.avatarGroup.add(A.avatarNodes[e]))}async function G(e,a,l){try{const n=await P((t=a,t.startsWith("blob")?t:`assets/models/${t}.glb`));if(A.avatarConfig[e]!==a)return;return n.scene.animations=n.animations,n.scene.traverse((e=>{var a,l;l=e=>{e.isMeshStandardMaterial&&(e.envMap=A.envMap,e.envMapIntensity=.8,e.map&&(e.map.anisotropy=A.renderer.capabilities.getMaxAnisotropy()),e.needsUpdate=!0)},(a=e).material&&(Array.isArray(a.material)?a.material.forEach(l):l(a.material))})),l.clear(),l.add(n.scene),n.scene}catch(t){if(A.avatarConfig[e]!==a)return;return void l.clear()}var t}window.gameState=A,window.onresize=()=>{A.shouldResize=!0},document.addEventListener(v,(()=>{A.reactIsLoaded=!0})),document.addEventListener(c,(e=>{A.newAvatarConfig=e.detail.avatarConfig,A.shouldApplyNewAvatarConfig=!0})),document.addEventListener(k,(e=>{A.thumbnailConfig=e.detail.thumbnailConfig,A.shouldRenderThumbnail=!0})),document.addEventListener(p,(()=>{A.shouldExportAvatar=!0})),document.addEventListener(h,(()=>{A.shouldResetView=!0})),window.requestAnimationFrame((function e(a){if(A.reactIsLoaded&&!A.didInit&&(A.didInit=!0,function(){u.CtF.enabled=!0;const e=new u.xsS;A.scene=e;const a=function(e){const a=e/12,l={topColor:{value:new u.Ilk(38619)},bottomColor:{value:new u.Ilk(13032933)},offset:{value:a},exponent:{value:1}},t=new u.xo$(e,16,16),n=new u.jyz({uniforms:l,vertexShader:"\nvarying vec3 vWorldPosition;\n\nvoid main() {\n\n  vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n  vWorldPosition = worldPosition.xyz;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n}\n",fragmentShader:"\nuniform vec3 topColor;\nuniform vec3 bottomColor;\nuniform float offset;\nuniform float exponent;\n\nvarying vec3 vWorldPosition;\n\nvoid main() {\n\n  float h = normalize( vWorldPosition + offset ).y;\n  gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h , 0.0), exponent ), 0.0 ) ), 1.0 );\n\n}\n",side:u._Li});return new u.Kj0(t,n)}(C()?2:400);e.add(a);const l=new u.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);l.position.set(0,.6,1),A.camera=l;const t=new u.Mig(16777215,.8);e.add(t);const n=new u.CP7({canvas:document.getElementById("scene"),antialias:!0});A.renderer=n;const i=function(){const e=new _.q;e.scale.setScalar(45e4);const a=e.material.uniforms;a.turbidity.value=10,a.rayleigh.value=3,a.mieCoefficient.value=.005,a.mieDirectionalG.value=.7;const l=Math.PI*(.7-.5),t=2*Math.PI*(.55-.5),n=new u.Pa4;return n.x=Math.cos(t),n.y=Math.sin(t)*Math.sin(l),n.z=Math.sin(t)*Math.cos(l),a.sunPosition.value.copy(n),e}();A.envMap=function(e,a){const l=new u.xsS;l.add(e);const t=new u.anP(a),n=t.fromScene(l);return t.dispose(),l.remove(e),n.texture}(i,n);const s=new m.z(l,n.domElement);s.autoRotate=!0,s.autoRotateSpeed=-1,s.target=new u.Pa4(0,.5,0),s.update(),s.saveState(),A.controls=s,A.avatarGroup=new u.ZAu,e.add(A.avatarGroup)}()),A.didInit){if(A.shouldResize){A.shouldResize=!1;const{renderer:e,camera:a}=A,l=e.domElement.parentNode.clientWidth,t=e.domElement.parentNode.clientHeight;e.setSize(l,t,!1),a.aspect=l/t,a.updateProjectionMatrix()}{const{renderer:e,scene:a,camera:l,controls:t}=A;t.update(),e.render(a,l)}if(A.shouldApplyNewAvatarConfig){A.shouldApplyNewAvatarConfig=!1;const e=new Set(Object.keys(A.newAvatarConfig).concat(Object.keys(A.avatarConfig)));for(const a of e)T(a),A.newAvatarConfig[a]!==A.avatarConfig[a]&&(A.avatarConfig[a]=A.newAvatarConfig[a],null!==A.newAvatarConfig[a]?G(a,A.newAvatarConfig[a],A.avatarNodes[a]):A.avatarNodes[a].clear())}if(A.shouldRenderThumbnail){A.shouldRenderThumbnail=!1;for(const e in A.avatarNodes)A.avatarNodes.hasOwnProperty(e)&&A.avatarNodes[e].clear();const{category:e,part:a}=A.thumbnailConfig;T(e),A.avatarConfig[e]=a,G(e,a,A.avatarNodes[e]).then((e=>{!function(e,a,l,t,n){e.setSize(128,128);const i=-Math.PI/6,s=g(l,"SkinnedMesh");s.map(((e,a)=>{e.geometry.rotateY(i),e.geometry.rotateX(-i)}));const r=(new u.ZzF).setFromObject(l),o=r.getCenter(new u.Pa4),d=r.getSize(new u.Pa4),m=d.x/2,y=d.y/2,c=1.1*Math.max(m,y),p=new u.iKG(-c,c,c,-c,1e-4,10),h=new u.Pa4(0,0,1);p.position.copy((new u.Pa4).copy(o).add(h.multiplyScalar(d.z))),e.render(a,p),e.domElement.toBlob((e=>{const a=document.createElement("img");a.id="thumbnailResult",document.body.append(a),a.src=URL.createObjectURL(e)})),s.map(((e,a)=>{e.geometry.rotateY(i),e.geometry.rotateX(-i)}))}(A.renderer,A.scene,e)}))}A.shouldExportAvatar&&(A.shouldExportAvatar=!1,function(e){const a=function(e){const a=new u.ZAu;a.name="Scene";const l=e.children.map((e=>f(e,"Scene"))).filter((e=>!!e));for(const e of l)M(a,e);const t=e.children.map((e=>f(e,"AvatarRoot"))).filter((e=>!!e)),n=t[0].clone(!1);for(const e of t)n.userData=(i=n.userData,s=e.userData,F(i),F(s),i.gltfExtensions.MOZ_hubs_components&&(i.gltfExtensions.MOZ_hubs_components=Object.assign(i.gltfExtensions.MOZ_hubs_components,s.gltfExtensions.MOZ_hubs_components)),i);var i,s;const r=g(e,"SkinnedMesh").map((e=>e.clone(!1))),o=function(e){const a=new Map;for(const l of e.skeleton.bones){const e=l.clone(!1);a.set(l,e)}return e.skeleton.bones[0].traverse((e=>{if("Bone"!==e.type)return;const l=a.get(e);for(const t of e.children)l.add(a.get(t))})),new u.OdW(e.skeleton.bones.map((e=>a.get(e))))}(r[0]);for(const e of r)e.bind(o);a.add(n),n.add(o.bones[0]);for(const e of r)n.add(e);return a}(e);console.log(B(a)),console.log(a),R(a,{binary:!1,animations:a.animations}),R(a,{binary:!0,animations:a.animations})}(A.avatarGroup)),A.shouldResetView&&(A.shouldResetView=!1,A.controls.reset()),window.requestAnimationFrame(e)}else requestAnimationFrame(e)}));const L={Hair:[{value:null,displayName:"None",excludeFromRandomize:!1},{value:"hair_aLine-asym",displayName:"ALine Asym"},{value:"hair_afro-1",displayName:"Afro 1"},{value:"hair_afro-2",displayName:"Afro 2"},{value:"hair_bob-1-dark",displayName:"Bob 1 Dark"},{value:"hair_bob-1-light",displayName:"Bob 1 Light"},{value:"hair_bob-1-red",displayName:"Bob 1 Red"},{value:"hair_braided-bun",displayName:"Braided Bun"},{value:"hair_eraser-top",displayName:"Eraser Top"},{value:"hair_fauxhawk-1",displayName:"Fauxhawk 1"},{value:"hair_flat-top-1",displayName:"Flat Top 1"},{value:"hair_french-braid-buns",displayName:"French Braid Buns"},{value:"hair_french-braids-double",displayName:"French Braids Double"},{value:"hair_male_taperAfro1",displayName:"Male"},{value:"hair_mohawk-1-blue",displayName:"Mohawk 1 Blue"},{value:"hair_mullet-1-dark",displayName:"Mullet 1 Dark"},{value:"hair_parted-1-brown",displayName:"Parted 1 Brown"},{value:"hair_parted-1-gray",displayName:"Parted 1 Gray"},{value:"hair_parted-long-1",displayName:"Parted Long 1"},{value:"hair_pigtails-1-blue",displayName:"Pigtails 1 Blue"},{value:"hair_pigtails-1-pink",displayName:"Pigtails 1 Pink"},{value:"hair_pony-tail-1",displayName:"Pony Tail 1"},{value:"hair_pony-tail-2",displayName:"Pony Tail 2"},{value:"hair_pony-tail-3",displayName:"Pony Tail 3"},{value:"hair_spikey-1",displayName:"Spikey 1"},{value:"hair_starter-locs-red",displayName:"Starter Locs Red"}],Head:[{value:null,displayName:"None",excludeFromRandomize:!0},{value:"head_bald-skin-1",displayName:"Bald Skin 1"},{value:"head_bald-skin-2",displayName:"Bald Skin 2"},{value:"head_bald-skin-3",displayName:"Bald Skin 3"},{value:"head_bald-skin-4",displayName:"Bald Skin 4"},{value:"head_bald-skin-5",displayName:"Bald Skin 5"},{value:"head_bald-skin-6",displayName:"Bald Skin 6"},{value:"head_bald-skin-7",displayName:"Bald Skin 7"},{value:"head_bald-skin-8",displayName:"Bald Skin 8"},{value:"head_bald-skin-a",displayName:"Bald Skin A"},{value:"head_bald-skin-b",displayName:"Bald Skin B"},{value:"head_bald-skin-c",displayName:"Bald Skin C"},{value:"head_bald-skin-d",displayName:"Bald Skin D"},{value:"head_bald-skin-e",displayName:"Bald Skin E"},{value:"head_bald-skin-f",displayName:"Bald Skin F"},{value:"head_bald-skin-g",displayName:"Bald Skin G"},{value:"head_bald-skin-h",displayName:"Bald Skin H"},{value:"head_freckles-skin-1",displayName:"Freckles Skin 1"},{value:"head_freckles-skin-2",displayName:"Freckles Skin 2"},{value:"head_freckles-skin-3",displayName:"Freckles Skin 3"},{value:"head_freckles-skin-4",displayName:"Freckles Skin 4"},{value:"head_freckles-skin-5",displayName:"Freckles Skin 5"},{value:"head_freckles-skin-6",displayName:"Freckles Skin 6"},{value:"head_freckles-skin-7",displayName:"Freckles Skin 7"},{value:"head_freckles-skin-8",displayName:"Freckles Skin 8"},{value:"head_freckles-skin-a",displayName:"Freckles Skin A"},{value:"head_freckles-skin-b",displayName:"Freckles Skin B"},{value:"head_freckles-skin-c",displayName:"Freckles Skin C"},{value:"head_freckles-skin-d",displayName:"Freckles Skin D"},{value:"head_freckles-skin-e",displayName:"Freckles Skin E"},{value:"head_freckles-skin-f",displayName:"Freckles Skin F"},{value:"head_freckles-skin-g",displayName:"Freckles Skin G"},{value:"head_freckles-skin-h",displayName:"Freckles Skin H"},{value:"head_shaved-skin-1",displayName:"Shaved Skin 1"},{value:"head_shaved-skin-2",displayName:"Shaved Skin 2"},{value:"head_shaved-skin-3",displayName:"Shaved Skin 3"},{value:"head_shaved-skin-4",displayName:"Shaved Skin 4"},{value:"head_shaved-skin-5",displayName:"Shaved Skin 5"},{value:"head_shaved-skin-6",displayName:"Shaved Skin 6"},{value:"head_shaved-skin-7",displayName:"Shaved Skin 7"},{value:"head_shaved-skin-8",displayName:"Shaved Skin 8"},{value:"head_shaved-skin-a",displayName:"Shaved Skin A"},{value:"head_shaved-skin-b",displayName:"Shaved Skin B"},{value:"head_shaved-skin-c",displayName:"Shaved Skin C"},{value:"head_shaved-skin-d",displayName:"Shaved Skin D"},{value:"head_shaved-skin-e",displayName:"Shaved Skin E"},{value:"head_shaved-skin-f",displayName:"Shaved Skin F"},{value:"head_shaved-skin-g",displayName:"Shaved Skin G"},{value:"head_shaved-skin-h",displayName:"Shaved Skin H"},{value:"head_skin-1",displayName:"Skin 1"},{value:"head_skin-2",displayName:"Skin 2"},{value:"head_skin-3",displayName:"Skin 3"},{value:"head_skin-4",displayName:"Skin 4"},{value:"head_skin-5",displayName:"Skin 5"},{value:"head_skin-6",displayName:"Skin 6"},{value:"head_skin-7",displayName:"Skin 7"},{value:"head_skin-8",displayName:"Skin 8"},{value:"head_skin-a",displayName:"Skin A"},{value:"head_skin-b",displayName:"Skin B"},{value:"head_skin-c",displayName:"Skin C"},{value:"head_skin-d",displayName:"Skin D"},{value:"head_skin-e",displayName:"Skin E"},{value:"head_skin-f",displayName:"Skin F"},{value:"head_skin-g",displayName:"Skin G"},{value:"head_skin-h",displayName:"Skin H"}],Eyes:[{value:null,displayName:"None",excludeFromRandomize:!0},{value:"eyes_style-1-blue",displayName:"Style 1 Blue"},{value:"eyes_style-1-brown",displayName:"Style 1 Brown"},{value:"eyes_style-11-blue",displayName:"Style 11 Blue"},{value:"eyes_style-11-brown",displayName:"Style 11 Brown"},{value:"eyes_style-12-blue",displayName:"Style 12 Blue"},{value:"eyes_style-12-brown",displayName:"Style 12 Brown"},{value:"eyes_style-12-green",displayName:"Style 12 Green"},{value:"eyes_style-13-blue",displayName:"Style 13 Blue"},{value:"eyes_style-13-brown",displayName:"Style 13 Brown"},{value:"eyes_style-14-blue",displayName:"Style 14 Blue"},{value:"eyes_style-14-brown",displayName:"Style 14 Brown"}],Eyebrows:[{value:null,displayName:"None",excludeFromRandomize:!0},{value:"eyebrows_brown",displayName:"Brown"},{value:"eyebrows_style-1-black",displayName:"Style 1 Black"},{value:"eyebrows_style-1-blonde",displayName:"Style 1 Blonde"},{value:"eyebrows_style-1-brown",displayName:"Style 1 Brown"},{value:"eyebrows_style-1-gray",displayName:"Style 1 Gray"},{value:"eyebrows_style-1-light-brown",displayName:"Style 1 Light Brown"},{value:"eyebrows_style-1-pink",displayName:"Style 1 Pink"},{value:"eyebrows_style-1-white",displayName:"Style 1 White"},{value:"eyebrows_style-2-black",displayName:"Style 2 Black"},{value:"eyebrows_style-2-blonde",displayName:"Style 2 Blonde"},{value:"eyebrows_style-2-brown",displayName:"Style 2 Brown"},{value:"eyebrows_style-2-gray",displayName:"Style 2 Gray"},{value:"eyebrows_style-2-light-brown",displayName:"Style 2 Light Brown"},{value:"eyebrows_style-2-pink",displayName:"Style 2 Pink"},{value:"eyebrows_style-2-white",displayName:"Style 2 White"},{value:"eyebrows_style-3-black",displayName:"Style 3 Black"},{value:"eyebrows_style-3-blonde",displayName:"Style 3 Blonde"},{value:"eyebrows_style-3-brown",displayName:"Style 3 Brown"},{value:"eyebrows_style-3-gray",displayName:"Style 3 Gray"},{value:"eyebrows_style-3-light-brown",displayName:"Style 3 Light Brown"},{value:"eyebrows_style-3-pink",displayName:"Style 3 Pink"},{value:"eyebrows_style-3-white",displayName:"Style 3 White"},{value:"eyebrows_style-4-black",displayName:"Style 4 Black"},{value:"eyebrows_style-4-blonde",displayName:"Style 4 Blonde"},{value:"eyebrows_style-4-brown",displayName:"Style 4 Brown"},{value:"eyebrows_style-4-gray",displayName:"Style 4 Gray"},{value:"eyebrows_style-4-light-brown",displayName:"Style 4 Light Brown"},{value:"eyebrows_style-4-pink",displayName:"Style 4 Pink"},{value:"eyebrows_style-4-white",displayName:"Style 4 White"}],Mouth:[{value:null,displayName:"None",excludeFromRandomize:!0},{value:"mouth_neutral-skin-1",displayName:"Neutral Skin 1"},{value:"mouth_neutral-skin-2",displayName:"Neutral Skin 2"},{value:"mouth_neutral-skin-3",displayName:"Neutral Skin 3"},{value:"mouth_neutral-skin-4",displayName:"Neutral Skin 4"},{value:"mouth_neutral-skin-5",displayName:"Neutral Skin 5"},{value:"mouth_neutral-skin-6",displayName:"Neutral Skin 6"},{value:"mouth_neutral-skin-7",displayName:"Neutral Skin 7"},{value:"mouth_neutral-skin-8",displayName:"Neutral Skin 8"},{value:"mouth_neutral-skin-a",displayName:"Neutral Skin A"},{value:"mouth_neutral-skin-b",displayName:"Neutral Skin B"},{value:"mouth_neutral-skin-c",displayName:"Neutral Skin C"},{value:"mouth_neutral-skin-d",displayName:"Neutral Skin D"},{value:"mouth_neutral-skin-e",displayName:"Neutral Skin E"},{value:"mouth_neutral-skin-f",displayName:"Neutral Skin F"},{value:"mouth_neutral-skin-g",displayName:"Neutral Skin G"},{value:"mouth_neutral-skin-h",displayName:"Neutral Skin H"},{value:"mouth_smirk-skin-1",displayName:"Smirk Skin 1"},{value:"mouth_smirk-skin-2",displayName:"Smirk Skin 2"},{value:"mouth_smirk-skin-3",displayName:"Smirk Skin 3"},{value:"mouth_smirk-skin-4",displayName:"Smirk Skin 4"},{value:"mouth_smirk-skin-5",displayName:"Smirk Skin 5"},{value:"mouth_smirk-skin-6",displayName:"Smirk Skin 6"},{value:"mouth_smirk-skin-7",displayName:"Smirk Skin 7"},{value:"mouth_smirk-skin-8",displayName:"Smirk Skin 8"},{value:"mouth_smirk-skin-a",displayName:"Smirk Skin A"},{value:"mouth_smirk-skin-b",displayName:"Smirk Skin B"},{value:"mouth_smirk-skin-c",displayName:"Smirk Skin C"},{value:"mouth_smirk-skin-d",displayName:"Smirk Skin D"},{value:"mouth_smirk-skin-e",displayName:"Smirk Skin E"},{value:"mouth_smirk-skin-f",displayName:"Smirk Skin F"},{value:"mouth_smirk-skin-g",displayName:"Smirk Skin G"},{value:"mouth_smirk-skin-h",displayName:"Smirk Skin H"}],"Facial Hair":[{value:null,displayName:"None",excludeFromRandomize:!1},{value:"facial-hair_beard-full-1-dark",displayName:"Beard Full 1 Dark"},{value:"facial-hair_beard-full-2-brown",displayName:"Beard Full 2 Brown"},{value:"facial-hair_goatee-1-brown",displayName:"Goatee 1 Brown"},{value:"facial-hair_goatee-2",displayName:"Goatee 2"},{value:"facial-hair_goatee-3",displayName:"Goatee 3"},{value:"facial-hair_goatee-4",displayName:"Goatee 4"},{value:"facial-hair_goatee-5",displayName:"Goatee 5"},{value:"facial-hair_mustache-1",displayName:"Mustache 1"},{value:"facial-hair_mustache-2",displayName:"Mustache 2"}],Hands:[{value:null,displayName:"None",excludeFromRandomize:!0},{value:"hands_skin-1",displayName:"Skin 1"},{value:"hands_skin-2",displayName:"Skin 2"},{value:"hands_skin-3",displayName:"Skin 3"},{value:"hands_skin-4",displayName:"Skin 4"},{value:"hands_skin-5",displayName:"Skin 5"},{value:"hands_skin-6",displayName:"Skin 6"},{value:"hands_skin-7",displayName:"Skin 7"},{value:"hands_skin-8",displayName:"Skin 8"},{value:"hands_skin-a",displayName:"Skin A"},{value:"hands_skin-b",displayName:"Skin B"},{value:"hands_skin-c",displayName:"Skin C"},{value:"hands_skin-d",displayName:"Skin D"},{value:"hands_skin-e",displayName:"Skin E"},{value:"hands_skin-f",displayName:"Skin F"},{value:"hands_skin-g",displayName:"Skin G"},{value:"hands_skin-h",displayName:"Skin H"}],Torso:[{value:null,displayName:"None",excludeFromRandomize:!0},{value:"torso_style-1-baseball-giants",displayName:"Style 1 Baseball Giants"},{value:"torso_style-1-bowling-shirt-1-red",displayName:"Style 1 Bowling Shirt 1 Red"},{value:"torso_style-1-combat-vest-red",displayName:"Style 1 Combat Vest Red"},{value:"torso_style-1-hoodie-1-gray",displayName:"Style 1 Hoodie 1 Gray"},{value:"torso_style-1-ketchum",displayName:"Style 1 Ketchum"},{value:"torso_style-1-sport-coat-1-dark",displayName:"Style 1 Sport Coat 1 Dark"},{value:"torso_style-1-sport-coat-1-gray",displayName:"Style 1 Sport Coat 1 Gray"},{value:"torso_style-1-tshirt-1-hubs-black",displayName:"Style 1 Tshirt 1 Hubs Black"},{value:"torso_style-1-tshirt-1-hubs-gray",displayName:"Style 1 Tshirt 1 Hubs Gray"},{value:"torso_style-1-tshirt-1-hubs-light-gray",displayName:"Style 1 Tshirt 1 Hubs Light Gray"},{value:"torso_style-1-tshirt-1-hubs-white",displayName:"Style 1 Tshirt 1 Hubs White"},{value:"torso_style-1-tshirt-1-moz",displayName:"Style 1 Tshirt 1 Moz"},{value:"torso_style-1-tshirt-1-union-jack",displayName:"Style 1 Tshirt 1 Union Jack"},{value:"torso_style-1-tshirt-moz",displayName:"Style 1 Tshirt Moz"},{value:"torso_style-1-tshirt-union-jack",displayName:"Style 1 Tshirt Union Jack"},{value:"torso_style-1-tshirt1-reactor",displayName:"Style 1 Tshirt1 Reactor"},{value:"torso_style-1-ugly-christmas-1",displayName:"Style 1 Ugly Christmas 1"},{value:"torso_style-2-baseball-giants",displayName:"Style 2 Baseball Giants"},{value:"torso_style-2-hoodie-1-gray",displayName:"Style 2 Hoodie 1 Gray"},{value:"torso_style-2-hoodie-2-purple",displayName:"Style 2 Hoodie 2 Purple"},{value:"torso_style-2-tshirt-1-baby-unicorn",displayName:"Style 2 Tshirt 1 Baby Unicorn"},{value:"torso_style-2-tshirt-1-heart-animated",displayName:"Style 2 Tshirt 1 Heart Animated"},{value:"torso_style-2-tshirt-1-heart",displayName:"Style 2 Tshirt 1 Heart"},{value:"torso_style-2-tshirt-1-hubs-black",displayName:"Style 2 Tshirt 1 Hubs Black"},{value:"torso_style-2-tshirt-1-hubs-gray",displayName:"Style 2 Tshirt 1 Hubs Gray"},{value:"torso_style-2-tshirt-1-hubs-light-gray",displayName:"Style 2 Tshirt 1 Hubs Light Gray"},{value:"torso_style-2-tshirt-1-hubs-white",displayName:"Style 2 Tshirt 1 Hubs White"},{value:"torso_style-2-tshirt-1-moz",displayName:"Style 2 Tshirt 1 Moz"},{value:"torso_style-2-tshirt-union-jack",displayName:"Style 2 Tshirt Union Jack"},{value:"torso_style-2-tshirt1-reactor",displayName:"Style 2 Tshirt1 Reactor"}],Hat:[{value:null,displayName:"None",excludeFromRandomize:!1},{value:"hat_baseball-giants",displayName:"Baseball Giants"},{value:"hat_beach-umbrella",displayName:"Beach Umbrella"},{value:"hat_beanie-1-red",displayName:"Beanie 1 Red"},{value:"hat_spokemon",displayName:"Spokemon"},{value:"hat_top-hat-1",displayName:"Top Hat 1"}],Eyewear:[{value:null,displayName:"None",excludeFromRandomize:!1},{value:"eyewear_arnette",displayName:"Arnette"},{value:"eyewear_aviators1",displayName:"Aviators1"},{value:"eyewear_glam-2",displayName:"Glam 2"},{value:"eyewear_heart-1-pink",displayName:"Heart 1 Pink"},{value:"eyewear_metal-1",displayName:"Metal 1"},{value:"eyewear_oakleys-red",displayName:"Oakleys Red"},{value:"eyewear_punk-2",displayName:"Punk 2"},{value:"eyewear_wire-frame-1-gold",displayName:"Wire Frame 1 Gold"}],Earring:[{value:null,displayName:"None",excludeFromRandomize:!1},{value:"earring_hoop-high-left-silver",displayName:"Hoop High Left Silver"},{value:"earring_hoop-high-right-silver",displayName:"Hoop High Right Silver"},{value:"earring_hoop-large-both-gold",displayName:"Hoop Large Both Gold"},{value:"earring_hoop-small-both-gold",displayName:"Hoop Small Both Gold"}],Accessory:[{value:null,displayName:"None",excludeFromRandomize:!1},{value:"accessory_duck-floaty",displayName:"Duck Floaty"},{value:"accessory_face-mask-1-animated",displayName:"Face Mask 1 Animated"},{value:"accessory_headband-cat-ears-1",displayName:"Headband Cat Ears 1"},{value:"accessory_headphones-1-black",displayName:"Headphones 1 Black"},{value:"accessory_pool-mask-1",displayName:"Pool Mask 1"}],"Torso Jacket":[{value:null,displayName:"None",excludeFromRandomize:!1},{value:"torso-jacket_style-1-punk-leather-1-black",displayName:"Style 1 Punk Leather 1 Black",excludeFromRandomize:!0}]};function z(){return(z=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&(e[t]=l[t])}return e}).apply(this,arguments)}function H(e,a){document.dispatchEvent(new CustomEvent(e,{detail:a}))}window.renderThumbnail=(e,a)=>{H(k,{thumbnailConfig:{category:e,part:a}})};const O=t.createContext();function j({expanded:e}){return t.createElement("div",{className:"chevron"},t.createElement(s.G,{icon:e?r.ptq:r._tD}))}const I=t.forwardRef((({as:e="div",image:a,className:l,children:n,...i},s)=>t.createElement(e,z({className:d()("partThumbnail",l),style:{backgroundImage:a?`url("assets/thumbnails/${a}.jpg")`:"none"}},i,{ref:s}),n)));function D({categoryName:e,selectedPartInfo:a,onClick:l,expanded:n}){return t.createElement("div",{className:"categoryHeading",onClick:l},t.createElement("h2",{className:"categoryName"},e),t.createElement(j,{expanded:n}),t.createElement("h2",{className:"selectedPartName"},a.displayName),t.createElement(I,{image:a.value}))}function U({parts:e,selectedPart:a,...l}){return t.createElement("div",{className:"avatarPartList"},e.map((e=>t.createElement(W,z({key:e.value,selected:e.value===a,part:e},l)))))}function W({part:e,selected:a,onPartSelected:l,onPartEnter:n,onPartLeave:i}){const s=(0,t.useContext)(O),r=(0,t.useRef)(null);return t.createElement(I,{as:"button",onClick:()=>{l(e.value)},onMouseOver:()=>{n(e.value);const[a]=r.current.getClientRects();s.showTip(e.displayName,a.bottom,a.left+a.width/2)},onMouseOut:()=>{i(),s.hideTip()},"aria-label":e.displayName,className:d()("avatarPartButton",{selected:a}),image:e.value,ref:r})}const Z=t.forwardRef((({expanded:e,setExpanded:a,children:l},n)=>t.createElement("div",{tabIndex:"0",role:"button",className:"partSelector "+(e?"expanded":"collapsed"),onKeyDown:l=>{l.target!==l.currentTarget||"Enter"!==l.key&&" "!==l.key||(a(!e),l.preventDefault(),l.stopPropagation())},ref:n},l)));function V({onPartSelected:e,onPartEnter:a,onPartLeave:l,setExpanded:n,expanded:i,parts:s,selectedPart:r,categoryName:o}){const d=(0,t.useRef)(null);(0,t.useEffect)((()=>{i&&d.current.scrollIntoView({behavior:"smooth",block:"nearest"})}),[d,i]);const u=s.find((e=>e.value===r));return t.createElement(Z,z({ref:d},{expanded:i,setExpanded:n}),t.createElement(D,{categoryName:o,selectedPartInfo:u,onClick:()=>n(!i),expanded:i}),t.createElement(U,{parts:s,selectedPart:r,onPartSelected:e,onPartEnter:a,onPartLeave:l}))}function $({onGLBUploaded:e,randomizeConfig:a,dispatchResetView:l,dispatchExport:n}){return t.createElement("div",{className:"toolbar"},t.createElement("span",{className:"appName"},"babw"),t.createElement("label",{className:"uploadButton",tabIndex:"0"},"Upload custom part",t.createElement("input",{onChange:e,type:"file",id:"input",accept:"model/gltf-binary,.glb"})),t.createElement("button",{onClick:a},"Randomize avatar"),t.createElement("button",{onClick:l},"Reset camera view"),t.createElement("button",{onClick:n,className:"primary"},"Export avatar"))}function q(){const e=C(),[a,l]=(0,t.useState)(L),[n,s]=(0,t.useState)({}),[r,o]=(0,t.useState)(null),[d,u]=(0,t.useState)(null),m=Object.keys(a);function y(){const e={};for(const l of m){const t=a[l].filter((e=>!e.excludeFromRandomize));if(0===t.length)continue;const n=Math.floor(Math.random()*t.length);e[l]=t[n].value}return e}const k=y(),[N,_]=(0,t.useState)(k);function S(e){_({...N,...e})}(0,t.useEffect)((()=>{e||H(c,{avatarConfig:{...N,...n}}),H(v)})),(0,t.useEffect)((async()=>{null===r&&o(await new Promise((e=>{const a=document.createElement("canvas");a.width=45,a.height=200;const l=a.getContext("2d");l.fillStyle="white",l.lineWidth=4,l.beginPath(),l.moveTo(0,0),l.lineTo(30,0),l.quadraticCurveTo(45,50,30,100),l.quadraticCurveTo(15,150,30,200),l.lineTo(0,200),l.closePath(),l.fill(),a.toBlob((a=>{e(URL.createObjectURL(a))}))})))}));const[f,b]=(0,t.useState)({visible:!1,text:"",top:0,left:0});function g(){b({visible:!1})}return t.createElement(t.Fragment,null,t.createElement("div",{className:"main"},!e&&t.createElement("div",{className:"selector"},t.createElement(O.Provider,{value:{showTip:function(e,a,l){b({visible:!0,text:e,top:a,left:l})},hideTip:g}},t.createElement(i.Z,{className:"simpleBar",style:{height:"100%"},scrollableNodeProps:{onScroll:g}},m.map((e=>t.createElement(V,{expanded:d===e,setExpanded:a=>u(a?e:null),key:e,categoryName:e,selectedPart:N[e],onPartSelected:a=>{S({[e]:a})},onPartEnter:a=>{s({[e]:a})},onPartLeave:()=>{s({})},parts:a[e]})))))),t.createElement("div",{id:"sceneContainer"},!e&&t.createElement("div",{className:"waveContainer",style:{backgroundImage:`url("${r}")`}}),t.createElement("canvas",{id:"scene"})),t.createElement("div",{className:"buttonTip",style:{display:f.visible?"block":"none",top:f.top,left:f.left}},f.text)),!e&&t.createElement($,{onGLBUploaded:function(e){const t=e.target.files[0],n=t.name,i=n.substring(0,n.indexOf("_"))||"custom",s=n.substring(n.indexOf("_")+1,n.lastIndexOf(".")),r=URL.createObjectURL(t),o={...a};o[i]=o[i]||[{displayName:"None",value:null}],o[i].push({displayName:s,value:r}),l(o),S({[i]:r})},randomizeConfig:function(){_(y())},dispatchResetView:function(){H(h)},dispatchExport:function(){H(p)}}))}n.render(t.createElement(q,null),document.getElementById("root"))}},a={};function l(t){if(a[t])return a[t].exports;var n=a[t]={id:t,exports:{}};return e[t](n,n.exports,l),n.exports}l.m=e,l.x=e=>{},l.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return l.d(a,{a}),a},l.d=(e,a)=>{for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={179:0},a=[[4401,572]],t=e=>{},n=(n,i)=>{for(var s,r,[o,d,u,m]=i,y=0,c=[];y<o.length;y++)r=o[y],l.o(e,r)&&e[r]&&c.push(e[r][0]),e[r]=0;for(s in d)l.o(d,s)&&(l.m[s]=d[s]);for(u&&u(l),n&&n(i);c.length;)c.shift()();return m&&a.push.apply(a,m),t()},i=self.webpackChunk=self.webpackChunk||[];function s(){for(var t,n=0;n<a.length;n++){for(var i=a[n],s=!0,r=1;r<i.length;r++){var o=i[r];0!==e[o]&&(s=!1)}s&&(a.splice(n--,1),t=l(l.s=i[0]))}return 0===a.length&&(l.x(),l.x=e=>{}),t}i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i));var r=l.x;l.x=()=>(l.x=r||(e=>{}),(t=s)())})(),l.x()})();
//# sourceMappingURL=main-14a334753c55b2323470.js.map