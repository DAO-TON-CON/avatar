(()=>{"use strict";var e={810:(e,a,l)=>{var t=l(7294),s=l(3935),n=l(6796),i=(l(6138),l(2212)),r=l(2886),o=l(2509);const d="avatarConfigChanged",u="exportAvatar",y="resetView",m="reactIsLoaded";var c=l(7047),h=l(6895);function p({candidates:e,predicate:a}){if(!e.length)return null;const l=e.shift();return a(l)?l:p({candidates:e=e.concat(l.children),predicate:a})}function v(e,a){return p({candidates:[e],predicate:e=>e.name===a})}function k({candidates:e,predicate:a,results:l=[]}){if(!e.length)return l;const t=e.shift();return a(t)&&l.push(t),k({candidates:e=e.concat(t.children),predicate:a,results:l})}function N(e,a){return k({candidates:[e],predicate:e=>e.type===a})}function _({object3D:e,depth:a=0,callback:l,result:t}){t.push(l(e,a));const s=e.children;for(let e=0;e<s.length;e++)_({object3D:s[e],depth:a+1,callback:l,result:t});return t}const S=function(){const e="  ";return function(a,l){const t=`${a.type} | ${a.name} | ${JSON.stringify(a.userData)}`;let s="";"SkinnedMesh"===a.type&&(s="\n".concat(e.repeat(l)).concat("First bone id: ").concat(a.skeleton.bones[0].uuid));let n="";return"Bone"===a.type&&(n="\n".concat(e.repeat(l)).concat("Bone id: ").concat(a.uuid)),e.repeat(l).concat(t).concat(s).concat(n)}}();function b(e){return _({object3D:e,callback:S,result:[]}).join("\n")}const f=function(){const e=new c.E;return function(a){return new Promise((function(l,t){e.load(a,(function(e){l(e)}),(function(e){}),(function(e){t(e)}))}))}}(),w=function(){const e=new Map;return function(a){const l=e.get(a);if(l)return l;{const l=f(a).then((e=>e),(l=>(console.error(`Failed to load ${a}`,l),e.delete(a),null)));return e.set(a,l),l}}}();function g(e){return e.gltfExtensions||(e.gltfExtensions={}),e.gltfExtensions.MOZ_hubs_components||(e.gltfExtensions.MOZ_hubs_components={}),e}const B=function(){const e=new o.M;return function(a,{binary:l,animations:t}){e.parse(a,(e=>{if(l){const a=new Blob([e],{type:"application/octet-stream"}),l=document.createElement("a");l.style.display="none",l.href=URL.createObjectURL(a),l.download="custom_avatar.glb",l.click(),l.remove()}else console.log(e)}),{binary:l,animations:t})}}();function E(e,a){const l=[];for(const t of a.animations)-1===e.animations.findIndex((e=>e.name===t.name))&&l.push(t);for(const a of l)e.animations.push(a)}const F={reactIsLoaded:!1,shouldResize:!0,didInit:!1,scene:null,camera:null,renderer:null,controls:null,envMap:null,avatarNodes:{},avatarConfig:{},newAvatarConfig:{},shouldApplyNewAvatarConfig:!1,shouldExportAvatar:!1,shouldResetView:!1};async function x(e,a,l){try{const s=await w((t=a,t.startsWith("blob")?t:`assets/${t}.glb`));if(F.avatarConfig[e]!==a)return;s.scene.animations=s.animations,s.scene.traverse((e=>{var a,l;l=e=>{e.isMeshStandardMaterial&&(e.envMap=F.envMap,e.needsUpdate=!0)},(a=e).material&&(Array.isArray(a.material)?a.material.forEach(l):l(a.material))})),l.clear(),l.add(s.scene)}catch(t){if(F.avatarConfig[e]!==a)return;return void l.clear()}var t}window.gameState=F,window.onresize=()=>{F.shouldResize=!0},document.addEventListener(m,(()=>{F.reactIsLoaded=!0})),document.addEventListener(d,(e=>{F.newAvatarConfig=e.detail.avatarConfig,F.shouldApplyNewAvatarConfig=!0})),document.addEventListener(u,(()=>{F.shouldExportAvatar=!0})),document.addEventListener(y,(()=>{F.shouldResetView=!0})),window.requestAnimationFrame((function e(a){if(F.reactIsLoaded&&!F.didInit&&(F.didInit=!0,function(){i.CtF.enabled=!0;const e=new i.xsS;e.fog=new i.yo9(9145226,.2),e.background=new i.Ilk(9145226),F.scene=e;const a=new i.cPb(75,window.innerWidth/window.innerHeight,.1,1e3);a.position.set(0,.25,1.5),F.camera=a;const l=new i.Mig(16777215,.4);e.add(l);const t=new i.CP7({canvas:document.getElementById("scene"),antialias:!0});F.renderer=t;const s=function(){const e=new h.q;e.scale.setScalar(45e4);const a=e.material.uniforms;a.turbidity.value=10,a.rayleigh.value=3,a.mieCoefficient.value=.005,a.mieDirectionalG.value=.7;const l=Math.PI*(.7-.5),t=2*Math.PI*(.55-.5),s=new i.Pa4;return s.x=Math.cos(t),s.y=Math.sin(t)*Math.sin(l),s.z=Math.sin(t)*Math.cos(l),a.sunPosition.value.copy(s),e}();F.envMap=function(e,a){const l=new i.xsS;l.add(e);const t=new i.anP(a),s=t.fromScene(l);return t.dispose(),l.remove(e),s.texture}(s,t);const n=new i.Kj0(new i.BKK(100,100),new i.Wid);n.position.y=-.2,n.rotation.x=-Math.PI/2,e.add(n);const o=new r.z(a,t.domElement);o.target=new i.Pa4(0,.5,0),o.update(),o.saveState(),F.controls=o,F.avatarGroup=new i.ZAu,e.add(F.avatarGroup)}()),F.didInit){if(F.shouldResize){F.shouldResize=!1;const{renderer:e,camera:a}=F,l=e.domElement.parentNode.clientWidth,t=e.domElement.parentNode.clientHeight;e.setSize(l,t,!1),a.aspect=l/t,a.updateProjectionMatrix()}{const{renderer:e,scene:a,camera:l}=F;e.render(a,l)}if(F.shouldApplyNewAvatarConfig){F.shouldApplyNewAvatarConfig=!1;const e=new Set(Object.keys(F.newAvatarConfig).concat(Object.keys(F.avatarConfig)));for(const a of e)F.avatarNodes[a]||(F.avatarNodes[a]=new i.ZAu,F.avatarGroup.add(F.avatarNodes[a])),F.newAvatarConfig[a]!==F.avatarConfig[a]&&(null!==F.newAvatarConfig[a]?x(a,F.newAvatarConfig[a],F.avatarNodes[a]):F.avatarNodes[a].clear(),F.avatarConfig[a]=F.newAvatarConfig[a])}F.shouldExportAvatar&&(F.shouldExportAvatar=!1,function(e){const a=function(e){const a=new i.ZAu;a.name="Scene";const l=e.children.map((e=>v(e,"Scene"))).filter((e=>!!e));for(const e of l)E(a,e);const t=e.children.map((e=>v(e,"AvatarRoot"))).filter((e=>!!e)),s=t[0].clone(!1);for(const e of t)s.userData=(n=s.userData,r=e.userData,g(n),g(r),n.gltfExtensions.MOZ_hubs_components&&(n.gltfExtensions.MOZ_hubs_components=Object.assign(n.gltfExtensions.MOZ_hubs_components,r.gltfExtensions.MOZ_hubs_components)),n);var n,r;const o=N(e,"SkinnedMesh").map((e=>e.clone(!1))),d=function(e){const a=new Map;for(const l of e.skeleton.bones){const e=l.clone(!1);a.set(l,e)}return e.skeleton.bones[0].traverse((e=>{if("Bone"!==e.type)return;const l=a.get(e);for(const t of e.children)l.add(a.get(t))})),new i.OdW(e.skeleton.bones.map((e=>a.get(e))))}(o[0]);for(const e of o)e.bind(d);a.add(s),s.add(d.bones[0]);for(const e of o)s.add(e);return a}(e);console.log(b(a)),console.log(a),B(a,{binary:!1,animations:a.animations}),B(a,{binary:!0,animations:a.animations})}(F.avatarGroup)),F.shouldResetView&&(F.shouldResetView=!1,F.controls.reset()),window.requestAnimationFrame(e)}else requestAnimationFrame(e)}));const C={Accessory:[{value:null,displayName:"none",excludeFromRandomize:!1},{value:"accessory_duck-floaty",displayName:"Duck Floaty"},{value:"accessory_face-mask-1-animated",displayName:"Face Mask 1 Animated"},{value:"accessory_headband-cat-ears-1",displayName:"Headband Cat Ears 1"},{value:"accessory_headphones-1-black",displayName:"Headphones 1 Black"},{value:"accessory_pool-mask-1",displayName:"Pool Mask 1"}],Earring:[{value:null,displayName:"none",excludeFromRandomize:!1},{value:"earring_hoop-high-left-silver",displayName:"Hoop High Left Silver"},{value:"earring_hoop-high-right-silver",displayName:"Hoop High Right Silver"},{value:"earring_hoop-large-both-gold",displayName:"Hoop Large Both Gold"},{value:"earring_hoop-small-both-gold",displayName:"Hoop Small Both Gold"}],Eyebrows:[{value:null,displayName:"none",excludeFromRandomize:!0},{value:"eyebrows_brown",displayName:"Brown"},{value:"eyebrows_style-1-black",displayName:"Style 1 Black"},{value:"eyebrows_style-1-blonde",displayName:"Style 1 Blonde"},{value:"eyebrows_style-1-brown",displayName:"Style 1 Brown"},{value:"eyebrows_style-1-gray",displayName:"Style 1 Gray"},{value:"eyebrows_style-1-light-brown",displayName:"Style 1 Light Brown"},{value:"eyebrows_style-1-pink",displayName:"Style 1 Pink"},{value:"eyebrows_style-1-white",displayName:"Style 1 White"},{value:"eyebrows_style-2-black",displayName:"Style 2 Black"},{value:"eyebrows_style-2-blonde",displayName:"Style 2 Blonde"},{value:"eyebrows_style-2-brown",displayName:"Style 2 Brown"},{value:"eyebrows_style-2-gray",displayName:"Style 2 Gray"},{value:"eyebrows_style-2-light-brown",displayName:"Style 2 Light Brown"},{value:"eyebrows_style-2-pink",displayName:"Style 2 Pink"},{value:"eyebrows_style-2-white",displayName:"Style 2 White"},{value:"eyebrows_style-3-black",displayName:"Style 3 Black"},{value:"eyebrows_style-3-blonde",displayName:"Style 3 Blonde"},{value:"eyebrows_style-3-brown",displayName:"Style 3 Brown"},{value:"eyebrows_style-3-gray",displayName:"Style 3 Gray"},{value:"eyebrows_style-3-light-brown",displayName:"Style 3 Light Brown"},{value:"eyebrows_style-3-pink",displayName:"Style 3 Pink"},{value:"eyebrows_style-3-white",displayName:"Style 3 White"},{value:"eyebrows_style-4-black",displayName:"Style 4 Black"},{value:"eyebrows_style-4-blonde",displayName:"Style 4 Blonde"},{value:"eyebrows_style-4-brown",displayName:"Style 4 Brown"},{value:"eyebrows_style-4-gray",displayName:"Style 4 Gray"},{value:"eyebrows_style-4-light-brown",displayName:"Style 4 Light Brown"},{value:"eyebrows_style-4-pink",displayName:"Style 4 Pink"},{value:"eyebrows_style-4-white",displayName:"Style 4 White"}],Eyes:[{value:null,displayName:"none",excludeFromRandomize:!0},{value:"eyes_style-1-blue",displayName:"Style 1 Blue"},{value:"eyes_style-1-brown",displayName:"Style 1 Brown"},{value:"eyes_style-11-blue",displayName:"Style 11 Blue"},{value:"eyes_style-11-brown",displayName:"Style 11 Brown"},{value:"eyes_style-12-blue",displayName:"Style 12 Blue"},{value:"eyes_style-12-brown",displayName:"Style 12 Brown"},{value:"eyes_style-12-green",displayName:"Style 12 Green"},{value:"eyes_style-13-blue",displayName:"Style 13 Blue"},{value:"eyes_style-13-brown",displayName:"Style 13 Brown"},{value:"eyes_style-14-blue",displayName:"Style 14 Blue"},{value:"eyes_style-14-brown",displayName:"Style 14 Brown"}],Eyewear:[{value:null,displayName:"none",excludeFromRandomize:!1},{value:"eyewear_arnette",displayName:"Arnette"},{value:"eyewear_aviators1",displayName:"Aviators1"},{value:"eyewear_glam-2",displayName:"Glam 2"},{value:"eyewear_heart-1-pink",displayName:"Heart 1 Pink"},{value:"eyewear_metal-1",displayName:"Metal 1"},{value:"eyewear_oakleys-red",displayName:"Oakleys Red"},{value:"eyewear_punk-2",displayName:"Punk 2"},{value:"eyewear_wire-frame-1-gold",displayName:"Wire Frame 1 Gold"}],"Facial Hair":[{value:null,displayName:"none",excludeFromRandomize:!1},{value:"facial-hair_beard-full-1-dark",displayName:"Beard Full 1 Dark"},{value:"facial-hair_beard-full-2-brown",displayName:"Beard Full 2 Brown"},{value:"facial-hair_goatee-1-brown",displayName:"Goatee 1 Brown"},{value:"facial-hair_goatee-2",displayName:"Goatee 2"},{value:"facial-hair_goatee-3",displayName:"Goatee 3"},{value:"facial-hair_goatee-4",displayName:"Goatee 4"},{value:"facial-hair_goatee-5",displayName:"Goatee 5"},{value:"facial-hair_mustache-1",displayName:"Mustache 1"},{value:"facial-hair_mustache-2",displayName:"Mustache 2"}],Hair:[{value:null,displayName:"none",excludeFromRandomize:!1},{value:"hair_aLine-asym",displayName:"ALine Asym"},{value:"hair_afro-1",displayName:"Afro 1"},{value:"hair_afro-2",displayName:"Afro 2"},{value:"hair_bob-1-dark",displayName:"Bob 1 Dark"},{value:"hair_bob-1-light",displayName:"Bob 1 Light"},{value:"hair_bob-1-red",displayName:"Bob 1 Red"},{value:"hair_braided-bun",displayName:"Braided Bun"},{value:"hair_eraser-top",displayName:"Eraser Top"},{value:"hair_fauxhawk-1",displayName:"Fauxhawk 1"},{value:"hair_flat-top-1",displayName:"Flat Top 1"},{value:"hair_french-braid-buns",displayName:"French Braid Buns"},{value:"hair_french-braids-double",displayName:"French Braids Double"},{value:"hair_male_taperAfro1",displayName:"Male"},{value:"hair_mohawk-1-blue",displayName:"Mohawk 1 Blue"},{value:"hair_mullet-1-dark",displayName:"Mullet 1 Dark"},{value:"hair_parted-1-brown",displayName:"Parted 1 Brown"},{value:"hair_parted-1-gray",displayName:"Parted 1 Gray"},{value:"hair_parted-long-1",displayName:"Parted Long 1"},{value:"hair_pigtails-1-blue",displayName:"Pigtails 1 Blue"},{value:"hair_pigtails-1-pink",displayName:"Pigtails 1 Pink"},{value:"hair_pony-tail-1",displayName:"Pony Tail 1"},{value:"hair_pony-tail-2",displayName:"Pony Tail 2"},{value:"hair_pony-tail-3",displayName:"Pony Tail 3"},{value:"hair_spikey-1",displayName:"Spikey 1"},{value:"hair_starter-locs-red",displayName:"Starter Locs Red"}],Hands:[{value:null,displayName:"none",excludeFromRandomize:!0},{value:"hands_skin-1",displayName:"Skin 1"},{value:"hands_skin-2",displayName:"Skin 2"},{value:"hands_skin-3",displayName:"Skin 3"},{value:"hands_skin-4",displayName:"Skin 4"},{value:"hands_skin-5",displayName:"Skin 5"},{value:"hands_skin-6",displayName:"Skin 6"},{value:"hands_skin-7",displayName:"Skin 7"},{value:"hands_skin-8",displayName:"Skin 8"},{value:"hands_skin-a",displayName:"Skin A"},{value:"hands_skin-b",displayName:"Skin B"},{value:"hands_skin-c",displayName:"Skin C"},{value:"hands_skin-d",displayName:"Skin D"},{value:"hands_skin-e",displayName:"Skin E"},{value:"hands_skin-f",displayName:"Skin F"},{value:"hands_skin-g",displayName:"Skin G"},{value:"hands_skin-h",displayName:"Skin H"}],Hat:[{value:null,displayName:"none",excludeFromRandomize:!1},{value:"hat_baseball-giants",displayName:"Baseball Giants"},{value:"hat_beach-umbrella",displayName:"Beach Umbrella"},{value:"hat_beanie-1-red",displayName:"Beanie 1 Red"},{value:"hat_spokemon",displayName:"Spokemon"},{value:"hat_top-hat-1",displayName:"Top Hat 1"}],Head:[{value:null,displayName:"none",excludeFromRandomize:!0},{value:"head_bald-skin-1",displayName:"Bald Skin 1"},{value:"head_bald-skin-2",displayName:"Bald Skin 2"},{value:"head_bald-skin-3",displayName:"Bald Skin 3"},{value:"head_bald-skin-4",displayName:"Bald Skin 4"},{value:"head_bald-skin-5",displayName:"Bald Skin 5"},{value:"head_bald-skin-6",displayName:"Bald Skin 6"},{value:"head_bald-skin-7",displayName:"Bald Skin 7"},{value:"head_bald-skin-8",displayName:"Bald Skin 8"},{value:"head_bald-skin-a",displayName:"Bald Skin A"},{value:"head_bald-skin-b",displayName:"Bald Skin B"},{value:"head_bald-skin-c",displayName:"Bald Skin C"},{value:"head_bald-skin-d",displayName:"Bald Skin D"},{value:"head_bald-skin-e",displayName:"Bald Skin E"},{value:"head_bald-skin-f",displayName:"Bald Skin F"},{value:"head_bald-skin-g",displayName:"Bald Skin G"},{value:"head_bald-skin-h",displayName:"Bald Skin H"},{value:"head_freckles-skin-1",displayName:"Freckles Skin 1"},{value:"head_freckles-skin-2",displayName:"Freckles Skin 2"},{value:"head_freckles-skin-3",displayName:"Freckles Skin 3"},{value:"head_freckles-skin-4",displayName:"Freckles Skin 4"},{value:"head_freckles-skin-5",displayName:"Freckles Skin 5"},{value:"head_freckles-skin-6",displayName:"Freckles Skin 6"},{value:"head_freckles-skin-7",displayName:"Freckles Skin 7"},{value:"head_freckles-skin-8",displayName:"Freckles Skin 8"},{value:"head_freckles-skin-a",displayName:"Freckles Skin A"},{value:"head_freckles-skin-b",displayName:"Freckles Skin B"},{value:"head_freckles-skin-c",displayName:"Freckles Skin C"},{value:"head_freckles-skin-d",displayName:"Freckles Skin D"},{value:"head_freckles-skin-e",displayName:"Freckles Skin E"},{value:"head_freckles-skin-f",displayName:"Freckles Skin F"},{value:"head_freckles-skin-g",displayName:"Freckles Skin G"},{value:"head_freckles-skin-h",displayName:"Freckles Skin H"},{value:"head_shaved-skin-1",displayName:"Shaved Skin 1"},{value:"head_shaved-skin-2",displayName:"Shaved Skin 2"},{value:"head_shaved-skin-3",displayName:"Shaved Skin 3"},{value:"head_shaved-skin-4",displayName:"Shaved Skin 4"},{value:"head_shaved-skin-5",displayName:"Shaved Skin 5"},{value:"head_shaved-skin-6",displayName:"Shaved Skin 6"},{value:"head_shaved-skin-7",displayName:"Shaved Skin 7"},{value:"head_shaved-skin-8",displayName:"Shaved Skin 8"},{value:"head_shaved-skin-a",displayName:"Shaved Skin A"},{value:"head_shaved-skin-b",displayName:"Shaved Skin B"},{value:"head_shaved-skin-c",displayName:"Shaved Skin C"},{value:"head_shaved-skin-d",displayName:"Shaved Skin D"},{value:"head_shaved-skin-e",displayName:"Shaved Skin E"},{value:"head_shaved-skin-f",displayName:"Shaved Skin F"},{value:"head_shaved-skin-g",displayName:"Shaved Skin G"},{value:"head_shaved-skin-h",displayName:"Shaved Skin H"},{value:"head_skin-1",displayName:"Skin 1"},{value:"head_skin-2",displayName:"Skin 2"},{value:"head_skin-3",displayName:"Skin 3"},{value:"head_skin-4",displayName:"Skin 4"},{value:"head_skin-5",displayName:"Skin 5"},{value:"head_skin-6",displayName:"Skin 6"},{value:"head_skin-7",displayName:"Skin 7"},{value:"head_skin-8",displayName:"Skin 8"},{value:"head_skin-a",displayName:"Skin A"},{value:"head_skin-b",displayName:"Skin B"},{value:"head_skin-c",displayName:"Skin C"},{value:"head_skin-d",displayName:"Skin D"},{value:"head_skin-e",displayName:"Skin E"},{value:"head_skin-f",displayName:"Skin F"},{value:"head_skin-g",displayName:"Skin G"},{value:"head_skin-h",displayName:"Skin H"}],Mouth:[{value:null,displayName:"none",excludeFromRandomize:!0},{value:"mouth_neutral-skin-1",displayName:"Neutral Skin 1"},{value:"mouth_neutral-skin-2",displayName:"Neutral Skin 2"},{value:"mouth_neutral-skin-3",displayName:"Neutral Skin 3"},{value:"mouth_neutral-skin-4",displayName:"Neutral Skin 4"},{value:"mouth_neutral-skin-5",displayName:"Neutral Skin 5"},{value:"mouth_neutral-skin-6",displayName:"Neutral Skin 6"},{value:"mouth_neutral-skin-7",displayName:"Neutral Skin 7"},{value:"mouth_neutral-skin-8",displayName:"Neutral Skin 8"},{value:"mouth_neutral-skin-a",displayName:"Neutral Skin A"},{value:"mouth_neutral-skin-b",displayName:"Neutral Skin B"},{value:"mouth_neutral-skin-c",displayName:"Neutral Skin C"},{value:"mouth_neutral-skin-d",displayName:"Neutral Skin D"},{value:"mouth_neutral-skin-e",displayName:"Neutral Skin E"},{value:"mouth_neutral-skin-f",displayName:"Neutral Skin F"},{value:"mouth_neutral-skin-g",displayName:"Neutral Skin G"},{value:"mouth_neutral-skin-h",displayName:"Neutral Skin H"},{value:"mouth_smirk-skin-1",displayName:"Smirk Skin 1"},{value:"mouth_smirk-skin-2",displayName:"Smirk Skin 2"},{value:"mouth_smirk-skin-3",displayName:"Smirk Skin 3"},{value:"mouth_smirk-skin-4",displayName:"Smirk Skin 4"},{value:"mouth_smirk-skin-5",displayName:"Smirk Skin 5"},{value:"mouth_smirk-skin-6",displayName:"Smirk Skin 6"},{value:"mouth_smirk-skin-7",displayName:"Smirk Skin 7"},{value:"mouth_smirk-skin-8",displayName:"Smirk Skin 8"},{value:"mouth_smirk-skin-a",displayName:"Smirk Skin A"},{value:"mouth_smirk-skin-b",displayName:"Smirk Skin B"},{value:"mouth_smirk-skin-c",displayName:"Smirk Skin C"},{value:"mouth_smirk-skin-d",displayName:"Smirk Skin D"},{value:"mouth_smirk-skin-e",displayName:"Smirk Skin E"},{value:"mouth_smirk-skin-f",displayName:"Smirk Skin F"},{value:"mouth_smirk-skin-g",displayName:"Smirk Skin G"},{value:"mouth_smirk-skin-h",displayName:"Smirk Skin H"}],"Torso Jacket":[{value:null,displayName:"none",excludeFromRandomize:!1},{value:"torso-jacket_style-1-punk-leather-1-black",displayName:"Style 1 Punk Leather 1 Black",excludeFromRandomize:!0}],Torso:[{value:null,displayName:"none",excludeFromRandomize:!0},{value:"torso_style-1-baseball-giants",displayName:"Style 1 Baseball Giants"},{value:"torso_style-1-bowling-shirt-1-red",displayName:"Style 1 Bowling Shirt 1 Red"},{value:"torso_style-1-combat-vest-red",displayName:"Style 1 Combat Vest Red"},{value:"torso_style-1-hoodie-1-gray",displayName:"Style 1 Hoodie 1 Gray"},{value:"torso_style-1-ketchum",displayName:"Style 1 Ketchum"},{value:"torso_style-1-sport-coat-1-dark",displayName:"Style 1 Sport Coat 1 Dark"},{value:"torso_style-1-sport-coat-1-gray",displayName:"Style 1 Sport Coat 1 Gray"},{value:"torso_style-1-tshirt-1-hubs-black",displayName:"Style 1 Tshirt 1 Hubs Black"},{value:"torso_style-1-tshirt-1-hubs-gray",displayName:"Style 1 Tshirt 1 Hubs Gray"},{value:"torso_style-1-tshirt-1-hubs-light-gray",displayName:"Style 1 Tshirt 1 Hubs Light Gray"},{value:"torso_style-1-tshirt-1-hubs-white",displayName:"Style 1 Tshirt 1 Hubs White"},{value:"torso_style-1-tshirt-1-moz",displayName:"Style 1 Tshirt 1 Moz"},{value:"torso_style-1-tshirt-1-union-jack",displayName:"Style 1 Tshirt 1 Union Jack"},{value:"torso_style-1-tshirt-moz",displayName:"Style 1 Tshirt Moz"},{value:"torso_style-1-tshirt-union-jack",displayName:"Style 1 Tshirt Union Jack"},{value:"torso_style-1-tshirt1-reactor",displayName:"Style 1 Tshirt1 Reactor"},{value:"torso_style-1-ugly-christmas-1",displayName:"Style 1 Ugly Christmas 1"},{value:"torso_style-2-baseball-giants",displayName:"Style 2 Baseball Giants"},{value:"torso_style-2-hoodie-1-gray",displayName:"Style 2 Hoodie 1 Gray"},{value:"torso_style-2-hoodie-2-purple",displayName:"Style 2 Hoodie 2 Purple"},{value:"torso_style-2-tshirt-1-baby-unicorn",displayName:"Style 2 Tshirt 1 Baby Unicorn"},{value:"torso_style-2-tshirt-1-heart-animated",displayName:"Style 2 Tshirt 1 Heart Animated"},{value:"torso_style-2-tshirt-1-heart",displayName:"Style 2 Tshirt 1 Heart"},{value:"torso_style-2-tshirt-1-hubs-black",displayName:"Style 2 Tshirt 1 Hubs Black"},{value:"torso_style-2-tshirt-1-hubs-gray",displayName:"Style 2 Tshirt 1 Hubs Gray"},{value:"torso_style-2-tshirt-1-hubs-light-gray",displayName:"Style 2 Tshirt 1 Hubs Light Gray"},{value:"torso_style-2-tshirt-1-hubs-white",displayName:"Style 2 Tshirt 1 Hubs White"},{value:"torso_style-2-tshirt-1-moz",displayName:"Style 2 Tshirt 1 Moz"},{value:"torso_style-2-tshirt-union-jack",displayName:"Style 2 Tshirt Union Jack"},{value:"torso_style-2-tshirt1-reactor",displayName:"Style 2 Tshirt1 Reactor"}]};function P({categoryName:e,selectedPartName:a}){return t.createElement("div",{className:"categoryHeading"},t.createElement("h2",{className:"categoryName"},e),t.createElement("h2",{className:"selectedPartName"},a))}function A({children:e}){return t.createElement(t.Fragment,null,e)}function M({part:e,selected:a,onPartSelected:l,onPartEnter:s,onPartLeave:n}){return t.createElement(t.Fragment,null,t.createElement("button",{onClick:()=>{l(e.value)},onPointerEnter:()=>{s(e.value)},onPointerLeave:()=>{n()},className:"avatarPartButton "+(a&&"selected")}))}function R({onPartSelected:e,onPartEnter:a,onPartLeave:l,parts:s,selected:n,categoryName:i}){const r=s.find((e=>e.value===n));return t.createElement("div",{className:"partSelector"},t.createElement(P,{categoryName:i,selectedPartName:r.displayName}),t.createElement(A,null,s.map((s=>t.createElement(M,{key:s.value,selected:s.value===n,onPartSelected:e,onPartEnter:a,onPartLeave:l,part:s})))))}function H(){const[e,a]=(0,t.useState)(C),[l,s]=(0,t.useState)({}),[i,r]=(0,t.useState)(null),o=Object.keys(e);function c(){const a={};for(const l of o){const t=e[l].filter((e=>!e.excludeFromRandomize));if(0===t.length)continue;const s=Math.floor(Math.random()*t.length);a[l]=t[s].value}return a}const h=c(),[p,v]=(0,t.useState)(h);function k(e){v({...p,...e})}return(0,t.useEffect)((()=>{document.dispatchEvent(new CustomEvent(d,{detail:{avatarConfig:{...p,...l}}})),document.dispatchEvent(new CustomEvent(m))})),(0,t.useEffect)((async()=>{null===i&&r(await new Promise((e=>{const a=document.createElement("canvas");a.width=200,a.height=400;const l=a.getContext("2d");l.fillStyle="white",l.lineWidth=4,l.beginPath(),l.moveTo(0,0),l.lineTo(30,0),l.quadraticCurveTo(60,100,30,200),l.quadraticCurveTo(0,300,30,400),l.lineTo(0,400),l.closePath(),l.fill(),a.toBlob((a=>{e(URL.createObjectURL(a))}))})))})),t.createElement(t.Fragment,null,t.createElement("div",{className:"main"},t.createElement("div",{className:"selector"},t.createElement(n.Z,{style:{height:"100%"}},o.map((a=>t.createElement(R,{key:a,categoryName:a,selected:p[a],onPartSelected:e=>{k({[a]:e})},onPartEnter:e=>{s({[a]:e})},onPartLeave:()=>{s({})},parts:e[a]}))))),t.createElement("div",{id:"sceneContainer"},t.createElement("div",{className:"waveContainer",style:{backgroundImage:`url("${i}")`}}),t.createElement("canvas",{id:"scene"}))),t.createElement("div",{className:"toolbar"},t.createElement("span",{className:"appName"},"babw"),t.createElement("label",{className:"uploadButton",tabIndex:"0"},"Upload custom part",t.createElement("input",{onChange:function(l){const t=l.target.files[0],s=t.name,n=s.substring(0,s.indexOf("_"))||"custom",i=s.substring(s.indexOf("_")+1,s.lastIndexOf(".")),r=URL.createObjectURL(t),o={...e};o[n]=o[n]||[{displayName:"none",value:null}],o[n].push({displayName:i,value:r}),a(o),k({[n]:r})},type:"file",id:"input",accept:"model/gltf-binary,.glb"})),t.createElement("button",{onClick:function(){v(c())}},"Randomize avatar"),t.createElement("button",{onClick:function(){document.dispatchEvent(new CustomEvent(y))}},"Reset camera view"),t.createElement("button",{onClick:function(){document.dispatchEvent(new CustomEvent(u))},className:"primary"},"Export avatar")))}s.render(t.createElement(H,null),document.getElementById("root"))}},a={};function l(t){if(a[t])return a[t].exports;var s=a[t]={id:t,exports:{}};return e[t](s,s.exports,l),s.exports}l.m=e,l.x=e=>{},l.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return l.d(a,{a}),a},l.d=(e,a)=>{for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={179:0},a=[[810,681]],t=e=>{},s=(s,n)=>{for(var i,r,[o,d,u,y]=n,m=0,c=[];m<o.length;m++)r=o[m],l.o(e,r)&&e[r]&&c.push(e[r][0]),e[r]=0;for(i in d)l.o(d,i)&&(l.m[i]=d[i]);for(u&&u(l),s&&s(n);c.length;)c.shift()();return y&&a.push.apply(a,y),t()},n=self.webpackChunk=self.webpackChunk||[];function i(){for(var t,s=0;s<a.length;s++){for(var n=a[s],i=!0,r=1;r<n.length;r++){var o=n[r];0!==e[o]&&(i=!1)}i&&(a.splice(s--,1),t=l(l.s=n[0]))}return 0===a.length&&(l.x(),l.x=e=>{}),t}n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n));var r=l.x;l.x=()=>(l.x=r||(e=>{}),(t=i)())})(),l.x()})();
//# sourceMappingURL=main-ec9b61dff5b86417cc60.js.map